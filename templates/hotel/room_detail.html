{% extends 'base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto py-10 px-4">
    <nav class="flex mb-6 text-sm text-gray-500">
        <a href="{% url 'room_list' %}" class="hover:text-blue-600">Rooms</a>
        <span class="mx-2">/</span>
        <span class="text-gray-900 font-medium">Room {{ room.room_number }}</span>
    </nav>

    <div class="bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100">
        <div class="p-8 border-b border-gray-100 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-gray-900">Room {{ room.room_number }}</h1>
                <p class="text-blue-600 font-semibold mt-1">{{ room.category.title }} - {{ room.category.hotel.name }}</p>
            </div>
            <div class="text-right">
                <span class="px-4 py-2 rounded-full text-sm font-bold {% if room.is_available %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                    {{ room.is_available|yesno:"Available,Occupied" }}
                </span>
            </div>
        </div>

        <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="space-y-6">
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider">Room Type</h3>
                    <p class="text-lg text-gray-800 font-medium">{{ room.get_room_type_display }}</p>
                </div>
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider">Pricing</h3>
                    {% if room.price_override %}
                        <p class="text-2xl font-bold text-blue-600">${{ room.price_override }} <span class="text-xs text-gray-400 font-normal">(Special Rate)</span></p>
                    {% else %}
                        <p class="text-2xl font-bold text-gray-900">${{ room.category.base_price }} <span class="text-xs text-gray-400 font-normal">(Base Rate)</span></p>
                    {% endif %}
                </div>
            </div>

            <div class="bg-gray-50 p-6 rounded-xl border border-gray-100">
                <h3 class="font-bold text-gray-900 mb-4">Quick Actions</h3>
                <div class="flex flex-col gap-3">
                    {% if user.user_type == 'M' %}
                        <a href="{% url 'room_update' room.pk %}" class="w-full text-center bg-white border border-gray-300 text-gray-700 py-2 rounded-lg font-bold hover:bg-gray-50 transition">Edit Details</a>
                        <a href="{% url 'room_delete' room.pk %}" class="w-full text-center bg-red-50 text-red-600 py-2 rounded-lg font-bold hover:bg-red-100 transition">Delete Room</a>
                    {% endif %}
                    <a href="{% url 'hotel_detail' room.category.hotel.slug %}" class="w-full text-center bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700 transition">View Hotel</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}